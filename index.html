<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>reveal.js</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <style>
        .reveal pre {
            width: auto !important;
        }

        .reveal pre.in {
            text-align: center !important;
            box-shadow: none !important;
        }

        .reveal pre.in code {
            display: inline !important;
        }
    </style>
</head>
<body>
<div class="reveal">
    <div class="slides">
        <section data-markdown>
            <textarea data-template>
                # Drag and Drop in Angular
                Xavier Reyes Ochoa
            </textarea>
        </section>
        <section data-markdown>
            <script type="text/template">
                ### Outline
                ---
                - HTML5 Drag and Drop API <!-- .element: class="fragment fade-right" data-fragment-index="1" -->
                - Drag and Drop in Angular <!-- .element: class="fragment fade-right" data-fragment-index="2" -->
                - Browser Inconsistencies <!-- .element: class="fragment fade-right" data-fragment-index="3" -->
                - Custom Angular Service <!-- .element: class="fragment fade-right" data-fragment-index="4" -->
                - Available Libraries and Polyfills <!-- .element: class="fragment fade-right" data-fragment-index="5" -->
            </script>
        </section>
        <section>
            <section data-markdown>
            <textarea data-template>
                ## HTML5 Drag and Drop API
            </textarea>
            </section>
            <section data-markdown>
            <textarea data-template>
                ### Enabling Drag and Drop
                1. Use the *draggable* attribute
                ```
                <div id="draggable" draggable="true"></div>
                ```
                2. Listen to drag events
                ```
                document.getElementById('draggable').addEventListener('dragstart', event => {
                    // do something
                });
                ```
             </textarea>
            </section>
            <section data-markdown>
            <textarea data-template>
                ### Events
                * dragstart <!-- .element: class="fragment fade-right" -->
                * drag <!-- .element: class="fragment fade-right" -->
                * dragenter <!-- .element: class="fragment fade-right" -->
                * dragover <!-- .element: class="fragment fade-right" -->
                * dragleave <!-- .element: class="fragment fade-right" -->
                * drop <!-- .element: class="fragment fade-right" -->
                * dragend <!-- .element: class="fragment fade-right" -->
            </textarea>
            </section>
            <section data-markdown>
            <textarea data-template>
                ### Pass data
                ```
                draggableElement.addEventListener('dragstart', event => {
                    event.dataTransfer.setData("text/plain", event.target.id);
                });
                ```
            </textarea>
            </section>
            <section data-markdown>
            <textarea data-template>
                ### Choose the drag image
                ```
                draggableElement.addEventListener('dragstart', event => {
                    let image = new Image();
                    image.src = 'image.png';
                    event.dataTransfer.setDragImage(image, 20, 20);
                });
                ```
            </textarea>
            </section>
            <section data-markdown>
            <textarea data-template>
                ### Choose the drag effect
                - copy <!-- .element: class="fragment fade-right" -->
                - move <!-- .element: class="fragment fade-right" -->
                - link <!-- .element: class="fragment fade-right" -->


                ```
                draggableElement.addEventListener('dragstart', event => {
                    event.dataTransfer.dropEffect = 'copy';
                });
                ```
            </textarea>
            </section>
            <section data-markdown>
            <textarea data-template>
                ### Handle drop zone and drop effect
                ```
                <div id="droppable"></div>
                ```
                ```
                droppableElement.addEventListener('dragover', event => {
                    event.dataTransfer.dropEffect = 'move';
                });
                droppableElement.addEventListener('drop', event => {
                     const data = event.dataTransfer.getData("text");
                    // do something with data
                });
                ```
            </textarea>
            </section>

        </section>

        <section data-markdown>
            <textarea data-template>
                ## Drag and Drop in Angular
                add snippets
                add gif
            </textarea>
        </section>
        <!-- Browser Inconsistencies -->
        <section>
            <section data-markdown>
            <textarea data-template>
                ## Browser Inconsistencies
                drag data
                event prevent default
                find more
            </textarea>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ### Draggable element
                    <pre class="in">
                        <code>draggable="true"</code> is not enough.
                        Firefox requires a listener for the <code>dragstart</code> event
                    </pre>
                </script>
            </section>
            <section data-markdown>
                <script type="text/template">
                    ### Make an element draggable
                    <pre class="in">
                        <code>draggable="true"</code> is not enough.
                        Firefox requires a listener for the <code>dragstart</code> event
                    </pre>
                </script>
            </section>
            <section data-markdown>
                <textarea data-template>
                ### Pass various types of data

                ```
                event.dataTransfer.setData("application/json", JSONObject);
                event.dataTransfer.setData("text/plain", "text");
                ```

                <pre class="in">
                    IE only supports <code>"text"</code> and <code>"URL"</code> types.
                    If set to <code>"text"</code>, it interferes with text and input fields.
                    A <code>try/catch</code> and fallback to <code>"text"</code> is a workaround.
                </pre>
                </textarea>
            </section>
            <section data-markdown>
                <textarea data-template>
                ### Custom drag image
                <pre class="in">
                    The element should be visible to the browser.
                    The workaround is to hide image under another element.
                    Custom drag image doesn't work in IE.
                    The workaround is to move an image with <code>mousemove</code> event.
                </pre>
                </textarea>
            </section>
            <section data-markdown>
                <textarea data-template>
                ### Custom drag image
                <pre class="in">
                    The element should be visible to the browser.
                    The workaround is to hide image under another element.
                    Custom drag image doesn't work in IE.
                    The workaround is to move an image with <code>mousemove</code> event.
                </pre>
                </textarea>
            </section>
            <section data-markdown>
                <textarea data-template>
                ### Enable drop
                <pre class="in">
                    Requires to <code>preventDefault</code> on the
                    <code>dragenter</code> and <code>dragover</code> events.
                    Firefox treats the drop as navigation.
                    This requires <code>preventDefault</code> on <code>dragover</code> event.
                </pre>
                </textarea>
            </section>
        </section>
        <section data-markdown>
            <textarea data-template>
                ## Custom Angular Service
                store
                change detection
            </textarea>
        </section>
        <section data-markdown>
            <textarea data-template>
                ## Available Libraries and Polyfills
            </textarea>
        </section>
    </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
    // More info about config & dependencies:
    // - https://github.com/hakimel/reveal.js#configuration
    // - https://github.com/hakimel/reveal.js#dependencies
    Reveal.initialize({
        dependencies: [
            {src: 'plugin/markdown/marked.js'},
            {src: 'plugin/markdown/markdown.js'},
            {src: 'plugin/notes/notes.js', async: true},
            {
                src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            }
        ]
    });
</script>
</body>
</html>
